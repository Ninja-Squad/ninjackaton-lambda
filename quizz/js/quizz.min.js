angular.module("quizz",["controllers-quizz"]),angular.module("controllers-quizz",[]).controller("QuizzCtrl",["$scope","$window","$injector",function(a,b,c){function d(){return a.quizz.questions.indexOf(a.currentQuestion)}function e(){return a.quizz.questions.length}function f(a){return"radio"==a.type?a.selectedAnswer&&a.selectedAnswer.correct:"checkbox"==a.type?a.answers.every(function(a){return a.correct&&a.checked||!a.correct&&!a.checked}):"free"==a.type?a.typedAnswer&&a.answers.indexOf(a.typedAnswer.trim())>=0:!1}a.started=!1,a.finished=!1,a.resultSelector="all";var g={options:{showPrevious:!0}};a.initWithConstant=function(b){a.init(c.get(b))},a.init=function(b){a.quizz=angular.extend({},g,b),a.started=!1,a.finished=!1,a.currentQuestion=null,a.resultFilter=a.allResultFilter},a.start=function(){a.started=!0,a.currentQuestion=a.quizz.questions[0]},a.questionIndex=d,a.questionOddity=function(){return 0==d()%2?"even":"odd"},a.hasNext=function(){return d()<e()-1},a.hasPrevious=function(){return d()>0},a.showNext=a.hasNext,a.showPrevious=function(){return a.hasPrevious()&&a.quizz.options.showPrevious},a.next=function(){a.currentQuestion=a.quizz.questions[d()+1]},a.previous=function(){a.currentQuestion=a.quizz.questions[d()-1]},a.finish=function(){a.currentQuestion=null,a.finished=!0},a.isAnswerCorrect=f,a.getScore=function(){return a.quizz.questions.filter(f).length},a.isAnswerSelected=function(a,b){return"radio"==a.type?a.selectedAnswer===b:b.checked},a.allResultFilter=function(){return!0},a.errorsOnlyResultFilter=function(a){return!f(a)}}]),angular.module("btford.markdown",[]).directive("btfMarkdown",function(){var a=new Showdown.converter;return{restrict:"AE",link:function(b,c,d){if(d.btfMarkdown)b.$watch(d.btfMarkdown,function(b){var d=b?a.makeHtml(b):"";c.html(d)});else{var e=a.makeHtml(c.text());c.html(e)}}}});